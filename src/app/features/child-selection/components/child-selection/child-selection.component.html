<div class="min-h-screen bg-linear-to-b from-sky-400 to-indigo-600 flex items-center justify-center p-4">
  <div class="max-w-4xl w-full">
    <h1 class="text-5xl font-display text-white text-center mb-12 drop-shadow-lg animate-fade-in-down">Â¿QuiÃ©n va a conducir hoy?</h1>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 justify-center">
      @for (child of account?.children; track child.id) {
        <button 
          (click)="selectChild($index)"
          class="group bg-white/95 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.3)] hover:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.4)] transition-all transform hover:-translate-y-4 active:scale-95 border border-white/20"
        >
          <div class="relative w-40 h-40 mx-auto mb-6 bg-linear-to-br from-blue-50 to-indigo-100 rounded-full flex items-center justify-center text-7xl shadow-inner group-hover:scale-110 transition-transform duration-500">
            {{ child.avatar }}
            <div class="absolute -bottom-2 -right-2 bg-green-500 text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity">
              <span class="text-2xl">âœ“</span>
            </div>
          </div>
          
          <h2 class="text-3xl font-display text-slate-800 mb-2">{{ child.name }}</h2>
          <p class="text-slate-500 font-medium">Nivel {{ child.progress.currentCardIndex + 1 }}</p>
          
          <div class="mt-6 pt-6 border-t border-slate-100 flex justify-center gap-4">
            <div class="flex items-center gap-1">
              <span class="text-2xl">ğŸ¡</span>
              <span class="font-bold text-slate-700">{{ child.progress.ruedas }}</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="text-2xl">ğŸï¸</span>
              <span class="font-bold text-slate-700">{{ child.progress.volantes }}</span>
            </div>
          </div>
        </button>
      }

      <!-- BotÃ³n para agregar nuevo conductor -->
      <button 
        (click)="toggleAddForm()"
        class="group bg-white/20 backdrop-blur-xl rounded-[2.5rem] p-8 border-2 border-dashed border-white/40 hover:bg-white/30 transition-all transform hover:-translate-y-4 active:scale-95 flex flex-col items-center justify-center min-h-[300px]"
      >
        <div class="w-24 h-24 rounded-full bg-white/20 flex items-center justify-center text-4xl text-white mb-4 group-hover:scale-110 transition-transform">
          â•
        </div>
        <span class="text-2xl font-display text-white">Nuevo Conductor</span>
      </button>
    </div>

    <div class="mt-16 text-center">
      <p class="text-white/80 text-xl font-light">P.I.V.E.S - Programa de Inteligencia Vial y EducaciÃ³n Segura</p>
    </div>
  </div>

  <!-- Modal para nuevo conductor -->
  @if (showAddForm) {
    <div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-fade-in">
      <div class="bg-white rounded-[3rem] shadow-2xl w-full max-w-lg overflow-hidden transform animate-scale-in">
        <div class="bg-linear-to-r from-blue-600 to-indigo-700 p-8 text-white relative">
          <button (click)="toggleAddForm()" class="absolute top-6 right-6 text-white/80 hover:text-white transition-colors">
            <span class="text-3xl">âœ•</span>
          </button>
          <h2 class="text-3xl font-display mb-2">Nuevo Conductor</h2>
          <p class="text-blue-100">Â¡Crea un nuevo perfil para empezar a conducir!</p>
        </div>

        <div class="p-8 space-y-6">
          <!-- Nombre -->
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wider">Nombre</label>
            <input 
              [(ngModel)]="newChild.name" 
              type="text" 
              placeholder="Â¿CÃ³mo te llamas?"
              class="w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-blue-500 focus:bg-white outline-hidden transition-all text-lg font-medium"
            >
          </div>

          <!-- GÃ©nero -->
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wider">GÃ©nero</label>
            <div class="grid grid-cols-2 gap-4">
              <button 
                (click)="newChild.gender = 'male'"
                [class]="newChild.gender === 'male' ? 'bg-blue-600 text-white shadow-lg' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'"
                class="py-3 rounded-2xl font-bold transition-all"
              >
                NiÃ±o
              </button>
              <button 
                (click)="newChild.gender = 'female'"
                [class]="newChild.gender === 'female' ? 'bg-pink-500 text-white shadow-lg' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'"
                class="py-3 rounded-2xl font-bold transition-all"
              >
                NiÃ±a
              </button>
            </div>
          </div>

          <!-- Avatar -->
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wider">Elige tu Avatar</label>
            <div class="grid grid-cols-6 gap-3">
              @for (avatar of avatars; track avatar) {
                <button 
                  (click)="newChild.avatar = avatar"
                  [class]="newChild.avatar === avatar ? 'bg-blue-100 border-blue-500 scale-110 shadow-md' : 'bg-slate-50 border-transparent hover:bg-slate-100'"
                  class="text-3xl p-2 rounded-xl border-2 transition-all hover:scale-110"
                >
                  {{ avatar }}
                </button>
              }
            </div>
          </div>

          <!-- BotÃ³n Guardar -->
          <div class="pt-4">
            <button 
              (click)="addChild()"
              [disabled]="!newChild.name"
              class="w-full bg-linear-to-r from-blue-600 to-indigo-700 text-white py-5 rounded-2xl text-xl font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 active:translate-y-0 disabled:opacity-50 disabled:translate-y-0 transition-all cursor-pointer"
            >
              Â¡Listo para arrancar! ğŸï¸
            </button>
          </div>
        </div>
      </div>
    </div>
  }
</div>
